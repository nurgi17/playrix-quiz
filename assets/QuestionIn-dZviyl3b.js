import{u as h,i as b,j as y,k as f,l as k,d as p,o as C,m as I,g as o,b as i,c as u,t as l,n as q,p as F,q as Q,f as m,F as S,r as j,e as c,w as _,T as g,h as E}from"./index-Bh2NkeiK.js";import{P as N}from"./PlayrixLogo-DWOrw-eM.js";import{I as v}from"./game.dto-CVWioiC1.js";function R(){h();const e=b();return{getQuestion:y(()=>{var r;return(r=e.currentPoint)==null?void 0:r.questions})}}function $(e){const n=h(),r=b(),a=f(),t=f(e),s=f({minutes:0,seconds:0}),d=y(()=>e*.1>t.value);k(()=>t.value,()=>{t.value<0&&(x(),r.setBaseValues(),n.push({name:"result",params:{type:v.Timeout}}))});function w(){s.value.minutes=Math.floor(t.value/60),s.value.seconds=t.value%60,t.value-=1}function T(){a.value=setInterval(()=>{w(),t.value<0&&x()},1e3)}function x(){clearInterval(a.value)}return{startTimer:T,stopTimer:x,timerObj:s,isRedTimer:d}}const A=p({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(e){const n=e,{startTimer:r,stopTimer:a,timerObj:t,isRedTimer:s}=$(n.timer);return C(()=>{r()}),I(()=>{a()}),(d,w)=>o(t).minutes>0||o(t).seconds>0?(i(),u("div",{key:0,class:q(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":o(s),"bg-[#FFDE00] text-[#000000]":!o(s)}])},l((o(t).minutes<10?"0":"")+o(t).minutes)+":"+l((o(t).seconds<10?"0":"")+o(t).seconds),3)):F("",!0)}});function B(){const e=b(),n=h(),r=Q();function a(s){s.isCorrect&&(e.countCorrectAnswers(1),e.setPointAnswered(Number(r.params.categoryId),Number(r.params.pointId)),e.setGamePoints()),n.push({name:"result",params:{type:s.isCorrect?v.Correct:v.Incorrect}})}function t(s){return new URL(s,import.meta.url).href}return{answer:a,getImageUrl:t}}const P={class:"text-[36px] text-[#FFFFFF] font-bold text-center"},D={class:"flex flex-col items-center"},U={key:0,class:"mt-[40px] rounded-img bg-[#FFDE00] pt-[24px] pr-[18px] pb-[24px] pl-[18px]"},V=["src"],L={class:"flex flex-col items-center gap-[30px] pt-[40px]"},O=["onClick"],G=p({__name:"AnswerQuestion",props:{question:{type:Object,default:()=>{}}},setup(e){const{answer:n,getImageUrl:r}=B();return(a,t)=>(i(),u("div",null,[m("div",P,l(e.question.question),1),m("div",D,[e.question.image?(i(),u("div",U,[m("img",{class:"max-w-[542px] max-h-[247px] rounded-img object-contain",src:o(r)(e.question.image),alt:""},null,8,V)])):F("",!0)]),m("div",L,[(i(!0),u(S,null,j(e.question.answers,s=>(i(),u("div",{key:s.id,class:"flex items-center justify-center text-center w-[1004px] h-[119px] text-[#000000] font-bold text-[40px] uppercase bg-[#F0F7E8] active:bg-[#FFDE00] rounded-angels",onClick:d=>o(n)(s)},l(s.answer),9,O))),128))])]))}}),M={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/second-back-green.svg')]"},z={key:0,class:"flex flex-col items-center text-center justify-center mt-[279px]"},H=p({__name:"QuestionContainer",setup(e){const{getQuestion:n}=R();return(r,a)=>(i(),u("div",M,[c(g,{name:"bounce",appear:""},{default:_(()=>[c(N)]),_:1}),c(g,{name:"bottom-fade",appear:""},{default:_(()=>[o(n)?(i(),u("div",z,[c(g,{name:"bounce",appear:""},{default:_(()=>[c(A,{timer:o(n)[0].timer},null,8,["timer"])]),_:1}),c(G,{class:"mt-[40px]",question:o(n)[0]},null,8,["question"])])):F("",!0)]),_:1})]))}}),X=p({__name:"QuestionIn",setup(e){return(n,r)=>(i(),E(H))}});export{X as default};
