import{u as h,i as w,j as y,k as f,l as T,d as p,o as k,m as C,g as a,b as i,c,t as l,n as I,p as b,q,f as m,F as Q,r as j,e as u,w as _,T as g,h as E}from"./index-D7aI3qfF.js";import{P as S}from"./PlayrixLogo-CZYbI4lP.js";import{I as v}from"./game.dto-CVWioiC1.js";function N(){h();const e=w();return{getQuestion:y(()=>{var t;return(t=e.currentPoint)==null?void 0:t.questions})}}function R(e){const s=h(),t=f(),n=f(e),r=f({minutes:0,seconds:0}),o=y(()=>e*.1>n.value);T(()=>n.value,()=>{n.value<0&&(x(),s.push({name:"result",params:{type:v.Timeout}}))});function d(){r.value.minutes=Math.floor(n.value/60),r.value.seconds=n.value%60,n.value-=1}function F(){t.value=setInterval(()=>{d(),n.value<0&&x()},1e3)}function x(){clearInterval(t.value)}return{startTimer:F,stopTimer:x,timerObj:r,isRedTimer:o}}const $=p({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(e){const s=e,{startTimer:t,stopTimer:n,timerObj:r,isRedTimer:o}=R(s.timer);return k(()=>{t()}),C(()=>{n()}),(d,F)=>a(r).minutes>0||a(r).seconds>0?(i(),c("div",{key:0,class:I(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":a(o),"bg-[#FFDE00] text-[#000000]":!a(o)}])},l((a(r).minutes<10?"0":"")+a(r).minutes)+":"+l((a(r).seconds<10?"0":"")+a(r).seconds),3)):b("",!0)}});function A(){const e=w(),s=h(),t=q();function n(o){o.isCorrect&&(e.countCorrectAnswers(1),e.setPointAnswered(Number(t.params.categoryId),Number(t.params.pointId)),e.setGamePoints()),s.push({name:"result",params:{type:o.isCorrect?v.Correct:v.Incorrect}})}function r(o){return new URL(o,import.meta.url).href}return{answer:n,getImageUrl:r}}const P={class:"text-[36px] text-[#FFFFFF] font-bold text-center"},B={class:"flex flex-col items-center"},D={key:0,class:"mt-[40px] rounded-img bg-[#FFDE00] pt-[24px] pr-[18px] pb-[24px] pl-[18px]"},U=["src"],L={class:"flex flex-col items-center gap-[30px] pt-[40px]"},O=["onClick"],V=p({__name:"AnswerQuestion",props:{question:{type:Object,default:()=>{}}},setup(e){const{answer:s,getImageUrl:t}=A();return(n,r)=>(i(),c("div",null,[m("div",P,l(e.question.question),1),m("div",B,[e.question.image?(i(),c("div",D,[m("img",{class:"max-w-[542px] max-h-[247px] rounded-img object-contain",src:a(t)(e.question.image),alt:""},null,8,U)])):b("",!0)]),m("div",L,[(i(!0),c(Q,null,j(e.question.answers,o=>(i(),c("div",{key:o.id,class:"flex items-center justify-center text-center w-[1004px] h-[119px] text-[#000000] font-bold text-[40px] uppercase bg-[#F0F7E8] active:bg-[#FFDE00] rounded-angels",onClick:d=>a(s)(o)},l(o.answer),9,O))),128))])]))}}),G={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/second-back-green.svg')]"},M={key:0,class:"flex flex-col items-center text-center justify-center mt-[279px]"},z=p({__name:"QuestionContainer",setup(e){const{getQuestion:s}=N();return(t,n)=>(i(),c("div",G,[u(g,{name:"bounce",appear:""},{default:_(()=>[u(S)]),_:1}),u(g,{name:"bottom-fade",appear:""},{default:_(()=>[a(s)?(i(),c("div",M,[u(g,{name:"bounce",appear:""},{default:_(()=>[u($,{timer:a(s)[0].timer},null,8,["timer"])]),_:1}),u(V,{class:"mt-[40px]",question:a(s)[0]},null,8,["question"])])):b("",!0)]),_:1})]))}}),W=p({__name:"QuestionIn",setup(e){return(s,t)=>(i(),E(z))}});export{W as default};
