import{u as g,i as w,j as y,k as x,l as T,d as p,o as k,m as C,g as o,b as a,c,t as l,n as q,p as h,q as Q,f as m,F as I,r as j,e as i,w as f,T as _,h as E}from"./index-QurwIPbr.js";import{P as S}from"./PlayrixLogo-xwr3yBlS.js";import{I as v}from"./game.dto-CVWioiC1.js";function N(){g();const e=w();return{getQuestion:y(()=>{var n;return(n=e.currentPoint)==null?void 0:n.questions})}}function $(e){const s=g(),n=x(),r=x(e),t=x({minutes:0,seconds:0}),u=y(()=>e*.1>r.value);T(()=>r.value,()=>{r.value<0&&(d(),s.push({name:"result",params:{type:v.Timeout}}))});function b(){t.value.minutes=Math.floor(r.value/60),t.value.seconds=r.value%60,r.value-=1}function F(){n.value=setInterval(()=>{b(),r.value<0&&d()},1e3)}function d(){clearInterval(n.value)}return{startTimer:F,stopTimer:d,timerObj:t,isRedTimer:u}}const A=p({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(e){const s=e,{startTimer:n,stopTimer:r,timerObj:t,isRedTimer:u}=$(s.timer);return k(()=>{n()}),C(()=>{r()}),(b,F)=>o(t).minutes>0||o(t).seconds>0?(a(),c("div",{key:0,class:q(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":o(u),"bg-[#FFDE00] text-[#000000]":!o(u)}])},l((o(t).minutes<10?"0":"")+o(t).minutes)+":"+l((o(t).seconds<10?"0":"")+o(t).seconds),3)):h("",!0)}});function P(){const e=w(),s=g(),n=Q();function r(t){t.isCorrect&&(e.countCorrectAnswers(1),e.setPointAnswered(Number(n.params.categoryId),Number(n.params.pointId)),e.setGamePoints()),s.push({name:"result",params:{type:t.isCorrect?v.Correct:v.Incorrect}})}return{answer:r}}const R={class:"text-[36px] text-[#FFFFFF] font-bold text-center"},B={class:"flex flex-col items-center"},D={key:0,class:"mt-[40px] rounded-img bg-[#FFDE00] pt-[24px] pr-[18px] pb-[24px] pl-[18px]"},O=["src"],V={class:"flex flex-col items-center gap-[30px] pt-[40px]"},G=["onClick"],L=p({__name:"AnswerQuestion",props:{question:{type:Object,default:()=>{}}},setup(e){const{answer:s}=P();return(n,r)=>(a(),c("div",null,[m("div",R,l(e.question.question),1),m("div",B,[e.question.image?(a(),c("div",D,[m("img",{class:"max-w-[542px] max-h-[247px] rounded-img object-contain",src:e.question.image,alt:""},null,8,O)])):h("",!0)]),m("div",V,[(a(!0),c(I,null,j(e.question.answers,t=>(a(),c("div",{key:t.id,class:"flex items-center justify-center text-center w-[1004px] h-[119px] text-[#000000] font-bold text-[40px] uppercase bg-[#F0F7E8] active:bg-[#FFDE00] rounded-angels",onClick:u=>o(s)(t)},l(t.answer),9,G))),128))])]))}}),M={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/second-back-green.svg')]"},z={key:0,class:"flex flex-col items-center text-center justify-center mt-[279px]"},U=p({__name:"QuestionContainer",setup(e){const{getQuestion:s}=N();return(n,r)=>(a(),c("div",M,[i(_,{name:"bounce",appear:""},{default:f(()=>[i(S)]),_:1}),i(_,{name:"bottom-fade",appear:""},{default:f(()=>[o(s)?(a(),c("div",z,[i(_,{name:"bounce",appear:""},{default:f(()=>[i(A,{timer:o(s)[0].timer},null,8,["timer"])]),_:1}),i(L,{class:"mt-[40px]",question:o(s)[0]},null,8,["question"])])):h("",!0)]),_:1})]))}}),W=p({__name:"QuestionIn",setup(e){return(s,n)=>(a(),E(U))}});export{W as default};
